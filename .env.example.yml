# .env.example.yml
#
# This file documents *all* environment variables used by this repository.
# It is YAML for readability; the actual runtime files are standard dotenv
# files named `.env` (KEY=VALUE), which are already gitignored.
#
# Notes
# - Gmail uses OAuth client + token JSON files. Those files contain secrets.
#   Keep them local and never commit them.
# - Prefer the namespaced variables (EMAIL_INTEL_* and EMAIL_AGENT_*).
# - For the Email Intelligence UI, a Vite dev proxy is configured by default
#   (frontend -> backend on http://localhost:8000), so VITE_API_BASE_URL is optional.

email_intelligence:
  backend:
    # Postgres connection string (used by SQLAlchemy)
    EMAIL_INTEL_DATABASE_URL: "postgresql://email:email@localhost:5432/email_intelligence"

    # Qdrant (vector DB)
    EMAIL_INTEL_QDRANT_HOST: "localhost"
    EMAIL_INTEL_QDRANT_PORT: 6333

    # Gmail ingestion
    EMAIL_INTEL_GMAIL_USER_ID: "me"                 # usually "me"
    EMAIL_INTEL_GMAIL_CREDENTIALS_PATH: "credentials.json"
    EMAIL_INTEL_GMAIL_TOKEN_PATH: "token.json"
    EMAIL_INTEL_GMAIL_PAGE_SIZE: 500                # Gmail list() page size

    # Clustering / labeling
    EMAIL_INTEL_SIMILARITY_THRESHOLD: 0.85
    EMAIL_INTEL_LABEL_VERSION: "tier1-v1"

    # Development helpers
    EMAIL_INTEL_SEED_FAKE_EMAIL: false              # set true to seed fake emails on startup

    # Optional Ollama labeling (when unset, deterministic fallback labeler is used)
    EMAIL_INTEL_OLLAMA_HOST: null                   # e.g. "http://localhost:11434"
    EMAIL_INTEL_OLLAMA_MODEL: "llama3.1"

    # Compatibility fallbacks (only used if the EMAIL_INTEL_* vars are not set)
    DATABASE_URL: null
    QDRANT_HOST: null
    QDRANT_PORT: null

  frontend:
    # Optional: set if you are *not* using the built-in Vite dev proxy.
    # Example: "http://localhost:8000"
    VITE_API_BASE_URL: ""

  docker:
    # docker-compose defaults (email-intelligence/docker/docker-compose.yml)
    POSTGRES_USER: "email"
    POSTGRES_PASSWORD: "email"
    POSTGRES_DB: "email_intelligence"
    # Exposed ports (documentation only)
    POSTGRES_PORT: 5432
    QDRANT_PORT: 6333

email_manager_agent:
  # Legacy CLI agent (src/email_manager_agent)
  EMAIL_AGENT_OLLAMA_HOST: "http://localhost:11434"
  EMAIL_AGENT_OLLAMA_MODEL: "llama2"
  EMAIL_AGENT_OLLAMA_TIMEOUT: 30

  EMAIL_AGENT_GMAIL_CREDENTIALS_PATH: "credentials.json"
  EMAIL_AGENT_GMAIL_TOKEN_PATH: "token.json"
  EMAIL_AGENT_GMAIL_MAX_RESULTS: 100
  EMAIL_AGENT_GMAIL_SCOPE: "https://www.googleapis.com/auth/gmail.readonly"

  # Header-only local index (SQLite)
  EMAIL_AGENT_INDEX_DB_PATH: "email_index.sqlite3"
  EMAIL_AGENT_INDEX_BATCH_SIZE: 200

  # App behavior
  EMAIL_AGENT_LOG_LEVEL: "INFO"
  EMAIL_AGENT_DEBUG: false
  EMAIL_AGENT_MAX_RETRIES: 3
  EMAIL_AGENT_CACHE_ENABLED: true
  EMAIL_AGENT_CACHE_TTL: 3600

  # Reserved (currently unused by core code, but present in Settings)
  EMAIL_AGENT_DATABASE_URL: null
